<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MCP Server — the-shit/music</title>
    <meta name="description" content="Set up the Spotify MCP server for Claude Desktop, Claude Code, and OpenCode. Control Spotify from any AI assistant.">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <nav class="nav">
        <a href="index.html" class="nav-logo"><span>the-shit</span>/music</a>
        <ul class="nav-links">
            <li><a href="index.html">Home</a></li>
            <li><a href="commands.html">Commands</a></li>
            <li><a href="mcp.html" class="active">MCP</a></li>
            <li><a href="vibes.html">Vibes</a></li>
            <li><a href="https://github.com/the-shit/music">GitHub</a></li>
        </ul>
    </nav>

    <div class="hero">
        <h1>MCP <span>Server</span></h1>
        <p class="subtitle">Let your AI assistant control Spotify. 12 tools, 2 resources, one concept: it plays your music.</p>
    </div>

    <div class="container">

        <div class="section">
            <h2>What is this?</h2>
            <p>The Spotify CLI exposes an <a href="https://modelcontextprotocol.io">MCP server</a> so AI clients can search, play, pause, queue, and control Spotify directly. Built on <a href="https://github.com/laravel/mcp">laravel/mcp</a> with stdio transport.</p>
            <p>Once configured, ask your AI assistant to "play some chill music" or "what's currently playing?" and it just works.</p>
        </div>

        <div class="section">
            <h2>Prerequisites</h2>
            <p>Before configuring the MCP server, make sure you've completed initial setup:</p>
            <div class="code-block">
                <pre><span class="comment"># Install the CLI</span>
<span class="cmd">composer global require the-shit/music</span>

<span class="comment"># Configure Spotify API credentials</span>
<span class="cmd">spotify setup</span>

<span class="comment"># Authenticate with your Spotify account</span>
<span class="cmd">spotify login</span></pre>
            </div>
            <p>You also need an active Spotify device — the desktop app, a phone, a browser tab, or the built-in daemon (<code>spotify daemon start</code>).</p>
        </div>

        <div class="cmd-section">
            <h3>Available Tools</h3>
            <table class="cmd-table">
                <thead><tr><th>Tool</th><th>Description</th></tr></thead>
                <tbody>
                    <tr><td><code>play</code></td><td>Search and play a track, artist, album, or playlist</td></tr>
                    <tr><td><code>pause</code></td><td>Pause playback</td></tr>
                    <tr><td><code>resume</code></td><td>Resume playback</td></tr>
                    <tr><td><code>skip</code></td><td>Skip to next or previous track</td></tr>
                    <tr><td><code>current</code></td><td>Get current track, artist, progress, and playback state</td></tr>
                    <tr><td><code>volume</code></td><td>Get or set volume (0-100)</td></tr>
                    <tr><td><code>queue_add</code></td><td>Search and add a track to queue</td></tr>
                    <tr><td><code>queue_show</code></td><td>Show upcoming tracks in queue</td></tr>
                    <tr><td><code>search</code></td><td>Search Spotify catalog (tracks, artists, albums, playlists)</td></tr>
                    <tr><td><code>devices</code></td><td>List available playback devices</td></tr>
                    <tr><td><code>shuffle</code></td><td>Toggle or set shuffle mode</td></tr>
                    <tr><td><code>repeat</code></td><td>Set repeat mode (off, track, context)</td></tr>
                </tbody>
            </table>
        </div>

        <div class="cmd-section">
            <h3>Resources</h3>
            <table class="cmd-table">
                <thead><tr><th>URI</th><th>Description</th></tr></thead>
                <tbody>
                    <tr><td><code>spotify://now-playing</code></td><td>Current playback state as JSON</td></tr>
                    <tr><td><code>spotify://devices</code></td><td>Available devices as JSON</td></tr>
                </tbody>
            </table>
        </div>

        <div class="section">
            <h2>Setup</h2>
            <p>Add the MCP server to your AI client's configuration. The server communicates over stdio.</p>
        </div>

        <div class="cmd-section">
            <h3>Claude Desktop</h3>
            <p style="color: var(--text-dim); font-size: 0.9rem; margin-bottom: 12px;">Edit <code>~/.claude/claude_desktop_config.json</code>:</p>
            <div class="code-block">
                <pre>{
  <span class="cmd">"mcpServers"</span>: {
    <span class="cmd">"spotify"</span>: {
      "command": "php",
      "args": ["/absolute/path/to/spotify", "mcp:start", "spotify"]
    }
  }
}</pre>
            </div>
        </div>

        <div class="cmd-section">
            <h3>Claude Code</h3>
            <p style="color: var(--text-dim); font-size: 0.9rem; margin-bottom: 12px;">Edit <code>~/.claude/settings.json</code> (global) or <code>.claude/settings.json</code> (project):</p>
            <div class="code-block">
                <pre>{
  <span class="cmd">"mcpServers"</span>: {
    <span class="cmd">"spotify"</span>: {
      "command": "php",
      "args": ["/absolute/path/to/spotify", "mcp:start", "spotify"]
    }
  }
}</pre>
            </div>
        </div>

        <div class="cmd-section">
            <h3>OpenCode</h3>
            <p style="color: var(--text-dim); font-size: 0.9rem; margin-bottom: 12px;">Edit <code>opencode.json</code> or settings:</p>
            <div class="code-block">
                <pre>{
  <span class="cmd">"mcpServers"</span>: {
    <span class="cmd">"spotify"</span>: {
      "command": "php",
      "args": ["/absolute/path/to/spotify", "mcp:start", "spotify"]
    }
  }
}</pre>
            </div>
        </div>

        <div class="global-note">
            <strong>Tip:</strong> If you installed globally via Composer, replace the command with just <code>"command": "spotify"</code> and <code>"args": ["mcp:start", "spotify"]</code>. Find the path with <code>which spotify</code>.
        </div>

    </div>

    <div class="footer">
        <strong>S.H.I.T.</strong> &mdash; Scaling Humans Into Tomorrow<br>
        <a href="https://github.com/the-shit/music">the-shit/music</a> &middot;
        <a href="index.html">Home</a> &middot;
        <a href="commands.html">Commands</a> &middot;
        <a href="vibes.html">Vibes</a>
    </div>
</body>
</html>
